# 场景描述：

## 管理员：

### 特性描述

1. 管理员可以修改密码
2. 管理员可以修改学生信息




## 学生：

### 场景一：学生注册

1. 学生填写账号密码

2. 模糊点：账号是否使用学号
> 通过学校+学号 唯一确定一个学生，学生邮箱必填，最好能验证邮箱。

### 场景二：查看自己的课程：

1. 查看课程中的作业
2. 查看课程中的考试
> 查看考试列表、考试信息
3. 已完成的作业可以查看成绩
4. 已完成的考试可以查看成绩

### 场景三：学生做作业：
1. 假如作业开始时间已到，ddl未到可以直接打开CHE做作业
2. 学生可以请求系统分析结果
> 应该是请求查看分析结果
3. 假如作业ddl已到，学生可以查看作业分析结果（有可能处于分析中）
4. 分析结果中有各个题目的分数和总得分等信息
5. 可以查看题目具体分析（页面由分析系统提供）


### 场景四：学生考试：
1. 问题：能不能不在每次提交都跑测试用例，仅在学生主动申请的时候跑
> 建议每提交都跑测试用例




## 教师：

### 场景一：教师创建课程

1. 教师登录
2. 教师创建课程
3. 创建课程的时候主动圈学生
4. 按年级分课程（2016级软工I），类似原tss
>  不要管老师如何建课程。给老师以主动性
5. 教师圈其他老师（一个课程的多个老师）  


999. 模糊点:老师圈人的方式？
>  可以根据老师的学校、姓名搜索，然后选人。默认本校本院系老师列表选择


### 场景二：教师创建考试：

1. 教师命名考试
2. 老师填写题目描述
3. 老师填写开始时间和结束时间，作业的开始时间默认是现在
4. 教师从题库中选择一些考试题目组成试卷
5. 系统选择默认的课程同学作为考试人员
6. 教师可以手动修改参加考试人员（注：可以添加非课程人员）

7. 模糊点：是否要有单独的班级概念
>  不要管班级，就是在建课的时候圈人就默认为考试的人员，但是老师可以临时做调整

### 场景三：教师对题库进行管理：

1. 上传
    1. 老师上传题目
    2. 管理员审核题目，也可以直接修改题目
    3. 管理员确认审核通过

    4. 模糊点：是否考虑审核未通过的情况 
>   暂不考虑

2. 模糊点：
    1. 谁来审核上传的题目 
>   老师或者助教
    2. 假如教师A有权限审核，那么他上传的题目是否还需要通过审核 
>   需要
    3. 有没有可能助教上传题目
>   暂时不考虑助教角色
    4. 题库有没有必要区分课程，或者手动添加标签
>   增加考试类型，为以后扩展，留余地

### 场景四：教师注册账号

1. 模糊点：老师账户是否由管理员直接分配
>  老师最好也注册，不过要管理员审批

### 场景五：教师创建作业：

同创建考试流程


### 场景六：教师查看考试或作业的结果：

1. 显示所有ddl已过的考试/作业 
2. 若分析未完成，显示未完成
3. 若分析完成，老师可以查看考试统计信息
4. * 教师可以查看某个学生的具体分析信息（低优先级）








# 业务过程

## 开启CHE过程

（以下不区分考试和作业）

1. 创建考试时，考试系统会返回一段配置
2. 学生请求打开CHE时，系统返回一个页面，这个页面会请求一个js脚本，脚本会在用户本地寻找学生的`用户名`和`密码`和`配置`，系统需要将学生的`用户名`和`密码`和`配置`放在用户本地（可能是页面中，也可能是cookie之类的）


## 考试分析

0. 学生请求查看分析结果
1. 系统通过考试ID去考试系统获得 project name 的列表
2. 系统将考试的多个project传给分析系统
3. 分析系统对每个project进行独立分析，分数汇总由管理系统来做





# 业务规则

1. 学生考试的题目对应的git url={username}/{考试ID}-{projectName}
2. 向题库提交的题目有特殊的格式要求，这个由题目审核者来判断
3. 考试或作业的ddl到时，系统会分析所有学生的结果

> 业务规则 业务过程 需要和王琨和苏子权学长确认